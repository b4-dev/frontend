---
import { Button } from "@/components/ui/button";
import "@/styles/globals.css";
import Navbar from "@/components/ui/NavigationMenuWrapper";

import Link from "next/link";
import { ArrowDownRight } from "lucide-react";

import Gradient from "@/components/textComponents/Gradient.astro";
import "../styles/background.sass";
---

<script is:inline>
  const getThemePreference = () => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
      return localStorage.getItem("theme");
    }
    return window.matchMedia("(prefers-color-scheme: dark)").matches
      ? "dark"
      : "light";
  };
  const isDark = getThemePreference() === "dark";
  document.documentElement.classList[isDark ? "add" : "remove"]("dark");

  if (typeof localStorage !== "undefined") {
    const observer = new MutationObserver(() => {
      const isDark = document.documentElement.classList.contains("dark");
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });
    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ["class"],
    });
  }
</script>

<Navbar />
<div id="stars"></div>
<div id="stars2"></div>
<div id="stars3"></div>
<section
  class="flex justify-center items-center mx-auto max-w-5xl py-8 md:py-12 lg:py-24"
>
  <div class="flex flex-col items-center text-center">
    <div class="">
      <h1
        class="scroll-m-20 text-8xl font-extrabold tracking-tight lg:text-5xl text-balance leading-tight lg:leading-[1.1] mb-4"
      >
        B4Dev
      </h1>
      <p class="text-lg font-light max-w-xl text-foreground mb-6 mx-auto">
        Blogging made for developers.
      </p>
      <div class="flex justify-center gap-4 items-center">
        <Link href="/register">
          <Button>
            <ArrowDownRight className="mr-2 h-4 w-4" />
            Get Started
          </Button>
        </Link>
        <Link href="#learn-more">
          <Button variant="outline">Learn more</Button>
        </Link>
      </div>
    </div>
  </div>
</section>
